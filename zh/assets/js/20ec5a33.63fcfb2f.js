(self.webpackChunkkubevela_io=self.webpackChunkkubevela_io||[]).push([[34494],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,f=d["".concat(s,".").concat(m)]||d[m]||u[m]||i;return n?r.createElement(f,o(o({ref:t},c),{},{components:n})):r.createElement(f,o({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},49932:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return o},metadata:function(){return l},toc:function(){return s},default:function(){return c}});var r=n(22122),a=n(19756),i=(n(67294),n(3905)),o={title:"Modify Replicas",description:"This article introduces how KubeVela adjusts the number of application copies."},l={unversionedId:"tutorials/scaler",id:"version-v1.2/tutorials/scaler",isDocsHomePage:!1,title:"Modify Replicas",description:"This article introduces how KubeVela adjusts the number of application copies.",source:"@site/versioned_docs/version-v1.2/tutorials/scaler.md",sourceDirName:"tutorials",slug:"/tutorials/scaler",permalink:"/zh/docs/tutorials/scaler",editUrl:"https://github.com/oam-dev/kubevela.io/edit/main/docs/tutorials/scaler.md",version:"v1.2",lastUpdatedBy:"barnettZQG",lastUpdatedAt:1642176699,formattedLastUpdatedAt:"2022/1/14",frontMatter:{title:"Modify Replicas",description:"This article introduces how KubeVela adjusts the number of application copies."},sidebar:"version-v1.2/docs",previous:{title:"GitOps",permalink:"/zh/docs/case-studies/gitops"},next:{title:"Manage Workflow",permalink:"/zh/docs/tutorials/workflows"}},s=[{value:"Before starting",id:"before-starting",children:[]},{value:"Attaching Trait",id:"attaching-trait",children:[]},{value:"Edit deployment parameters",id:"edit-deployment-parameters",children:[]},{value:"Next step",id:"next-step",children:[]}],p={toc:s};function c(e){var t=e.components,o=(0,a.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,r.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This section introduces how manually modify replicas to apply."),(0,i.kt)("h2",{id:"before-starting"},"Before starting"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"You've walked through at least one type of application deployment.")),(0,i.kt)("h2",{id:"attaching-trait"},"Attaching Trait"),(0,i.kt)("p",null,"KubeVela has a built-in ",(0,i.kt)("inlineCode",{parentName:"p"},"scaler")," Trait by default, which supports the adjustment of replicas in typical workloads, such as ",(0,i.kt)("inlineCode",{parentName:"p"},"webservice")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"k8s-objects")," applications."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"For k8s-objects type applications, when multiple resources are involved, please put the workload resources such as Deployment, Statefulset, Job in the first place so that the Trait of ",(0,i.kt)("inlineCode",{parentName:"p"},"scaler")," can take effect.")),(0,i.kt)("p",null,"Let's take first-vela-app in ",(0,i.kt)("inlineCode",{parentName:"p"},"Deliver First Application")," as an example. First, open the application's ",(0,i.kt)("inlineCode",{parentName:"p"},"Baseline Config"),"-",(0,i.kt)("inlineCode",{parentName:"p"},"Properties")," page:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"app-trait-scaler",src:n(31445).Z})),(0,i.kt)("p",null,"Next, we click the Settings (gear) button on the right side of Set Replicas to adjust replicas to 3. After clicking save, the changes will be temporarily stored."),(0,i.kt)("p",null,"Then to make it effective in a certain environment, we need to click the ",(0,i.kt)("inlineCode",{parentName:"p"},"Deploy")," button or the multi-environment workflow selection button next to it and select the corresponding environment to perform the deployment."),(0,i.kt)("p",null,"After the deployment is complete, you can enter the environment instance page. You'll find 3 rows of data that have appeared in the instance list."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"instance-trait-scaler",src:n(8063).Z})),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Trait can extend more powerful features, such as HPA.")),(0,i.kt)("h2",{id:"edit-deployment-parameters"},"Edit deployment parameters"),(0,i.kt)("p",null,"For applications created using Helm or other custom deployment types, if Traits are not applicable, you can directly edit the deployment parameters to adjust the number of application instances."),(0,i.kt)("p",null,"For example, in Helm applications, the general Chart package provides parameters for setting the number of replicas, which can be set by setting Values."),(0,i.kt)("p",null,"Take ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/bitnami/charts/tree/master/bitnami/apache"},"apache chart")," as an example, set ",(0,i.kt)("inlineCode",{parentName:"p"},"replicaCount=3")," in Values to adjust the number of replicas."),(0,i.kt)("h2",{id:"next-step"},"Next step"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"../platform-engineers/traits/customize-trait"},"Customize Scaler Trait"))))}c.isMDXComponent=!0},31445:function(e,t,n){"use strict";t.Z=n.p+"assets/images/app-scaler-88d46ea79d4db878b6a6e787d79b63ac.jpg"},8063:function(e,t,n){"use strict";t.Z=n.p+"assets/images/instance-trait-scaler-3f5c69977e4d301055a6c8d1c0c3f541.jpg"}}]);